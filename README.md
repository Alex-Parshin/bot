# Newser - система поиска новостных материалов
![alt tag](https://w7.pngwing.com/pngs/166/1000/png-transparent-robotics-search-engine-optimization-internet-bot-robot-control-robot-electronics-search-engine-optimization-web.png)
## Общая информация
Название ПО: Система автономного поиска новостных материалов в средствах 
             массовой информации

Версия: 1.3

Дата релиза: 26.05.2020

### Патчноут 12.05.2020:
  - работа с API модуля решения капчи переписана с PHP на NodeJS
  - завершена работа с форматами даты-времени для News.Yandex и News.Google
### Патчноут 13.05.2020:
  - добавлено первоначальное меню запуска бота
  - добавлена статистика работы бота
  - подготовка к реализации параллельного поиска
  - добавлен файл .env и инициализирован в программе
### Патчноут 14.05.2020:
  - реализован алгоритм приведения даты и времени публикации новости с сервиса News.Google к единому формату
  - проведен дебаг парсинга новостей с News.Google, выявлены неверные селекторы, исправлены
  - сервис News.Google включен в параллельный поиск
### Патчноут 15.05.2020
  - костыль для News.Google на запись в массив новостей начиная с тридцать пятой - записываются новости по запросу
  - поправлен баг загрузки на одну страницу больше, чем требовалось
### Патчноут 25.05.2020
  - добавлена система News.Mail.ru
  - добавлена возможность получения основного контента статьи средствами Puppeteer
### Патчноут 26.05.2020
  - изменена файловая структура
  - удалены неиспользуемые зависимости
  - отлажен сбор материалов с News.Mail.ru
  - улучшена обработка даты и времени с использованием datetime атрибута
  - введено наследование от трех основных классов
### Патчноут 27.05.2020
  - метод index() в классе Run разбит на более мелкие методы
  - меню первоначальной настройки вынесено в отдельный метод
  - добавлена возможность получать запрос не только с сервера
  - добавлены заготовки для описания логики сбора материала из соц.сетей (для хакатона)
  - реализована гибкость в переопределении методов путем возможности изменения родительского метода в любом месте
  - код почищен от неиспользуемых зависимостей
### Патчноут 29.05.2020
  - реализован алгоритм обработки хэшированных ссылок, получаемых с News.Google
  - реализована запись в текстовые файлы контента статей с News.Rambler
  - фикс багов

### Патчноут 09.06.2020
  - реализован сбор заглавного изображения новости, изображение выводится на странице сайта рядом с основным контентом статьи

###Патчноут 08.07.2020
  - реализован механизм взаимодействия поискового бота с сервером Express: запуск бота, отслеживание состояния (запущен, в процессе поиска, не запущен), остановка бота;
  - в веб-приложении (backend) реализован вызов функции run() класса Run поискового бота и функций start() и stop() для запуска и остановки бота соответственно.
  - в веб-приложении (frontend) реализован вывод статуса работы бота на страницу с возможностью обновления стастики по кнопке, вывод статистики работы бота.
  
### TODO List
1. Очистка получаемого основного контента статьи
2. Улучшение стабильности системы (try-catch)
## Описание работы:
//TODO

## Как использовать:
### Автономно (без получения запросов с удаленного веб-сервера)
  - склонить репозиторий
  - зайти в папку с установленным ПО
  - запустить команду npm install
  - в файле ./lib/core/run.js в функции other() указать необходимые запросы и метод их вызова в формате ['запрос', 'id запроса', 'id поисковой системы (3 - рамблер новости, 4 - яндекс новости, 7 - гугл новости']
  - в файле ./lib/core/initial.js в разделе "Обработка полученных новостей" выбрать либо сохранение в БД, либо на удаленном сервере, либо кастомные действия с массивом News_array.

### Автор: Храмов Сергей (trykhramov@gmail.com)
